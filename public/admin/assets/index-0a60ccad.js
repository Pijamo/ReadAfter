import{r as l,R as C,u as hn,i as $e,e as bn,o as It,d as qe,m as ze,a as yn,b as Re,c as wn,t as et,s as En,f as Sn,g as Pn,h as Cn,$ as $n,j as On,k as z,l as be,F as Mn,n as xn,p as Rn}from"./index-11f3749a.js";function vt(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Tn(e){if(Array.isArray(e))return e}function Fn(e,t,n){return(t=kn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function In(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,o,i,s,a=[],u=!0,d=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(u=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(c){d=!0,o=c}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw o}}return a}}function Nn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ht(Object(n),!0).forEach(function(r){Fn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function An(e,t){if(e==null)return{};var n,r,o=Ln(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ln(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function jn(e,t){return Tn(e)||In(e,t)||Dn(e,t)||Nn()}function Hn(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kn(e){var t=Hn(e,"string");return typeof t=="symbol"?t:t+""}function Dn(e,t){if(e){if(typeof e=="string")return vt(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vt(e,t):void 0}}function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yt(Object(n),!0).forEach(function(r){Bn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _n(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduceRight(function(o,i){return i(o)},r)}}function he(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return t.apply(n,[].concat(o,a))}}}function Te(e){return{}.toString.call(e).includes("Object")}function Vn(e){return!Object.keys(e).length}function we(e){return typeof e=="function"}function Un(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Wn(e,t){return Te(t)||le("changeType"),Object.keys(t).some(function(n){return!Un(e,n)})&&le("changeField"),t}function qn(e){we(e)||le("selectorType")}function zn(e){we(e)||Te(e)||le("handlerType"),Te(e)&&Object.values(e).some(function(t){return!we(t)})&&le("handlersType")}function Gn(e){e||le("initialIsRequired"),Te(e)||le("initialType"),Vn(e)&&le("initialContent")}function Kn(e,t){throw new Error(e[t]||e.default)}var Xn={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},le=he(Kn)(Xn),Oe={changes:Wn,selector:qn,handler:zn,initial:Gn};function Yn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Oe.initial(e),Oe.handler(t);var n={current:e},r=he(Qn)(n,t),o=he(Zn)(n),i=he(Oe.changes)(e),s=he(Jn)(n);function a(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(c){return c};return Oe.selector(d),d(n.current)}function u(d){_n(r,o,i,s)(d)}return[a,u]}function Jn(e,t){return we(t)?t(e.current):t}function Zn(e,t){return e.current=wt(wt({},e.current),t),t}function Qn(e,t,n){return we(t)?t(e.current):Object.keys(n).forEach(function(r){var o;return(o=t[r])===null||o===void 0?void 0:o.call(t,e.current[r])}),n}var er={create:Yn},tr={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function nr(e){return function t(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return o.length>=e.length?e.apply(this,o):function(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];return t.apply(n,[].concat(o,a))}}}function rr(e){return{}.toString.call(e).includes("Object")}function or(e){return e||Et("configIsRequired"),rr(e)||Et("configType"),e.urls?(lr(),{paths:{vs:e.urls.monacoBase}}):e}function lr(){console.warn(Nt.deprecation)}function ir(e,t){throw new Error(e[t]||e.default)}var Nt={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Et=nr(ir)(Nt),ur={config:or},ar=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(o){return n.reduceRight(function(i,s){return s(i)},o)}};function At(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],At(e[n],t[n]))}),bt(bt({},e),t)}var sr={type:"cancelation",msg:"operation is manually canceled"};function Ge(e){var t=!1,n=new Promise(function(r,o){e.then(function(i){return t?o(sr):r(i)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var cr=["monaco"],fr=er.create({config:tr,isInitialized:!1,resolve:null,reject:null,monaco:null}),Lt=jn(fr,2),Se=Lt[0],Ae=Lt[1];function dr(e){var t=ur.config(e),n=t.monaco,r=An(t,cr);Ae(function(o){return{config:At(o.config,r),monaco:n}})}function pr(){var e=Se(function(t){var n=t.monaco,r=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:r,resolve:o}});if(!e.isInitialized){if(Ae({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Ge(Ke);if(window.monaco&&window.monaco.editor)return jt(window.monaco),e.resolve(window.monaco),Ge(Ke);ar(mr,vr)(hr)}return Ge(Ke)}function mr(e){return document.body.appendChild(e)}function gr(e){var t=document.createElement("script");return e&&(t.src=e),t}function vr(e){var t=Se(function(r){var o=r.config,i=r.reject;return{config:o,reject:i}}),n=gr("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function hr(){var e=Se(function(n){var r=n.config,o=n.resolve,i=n.reject;return{config:r,resolve:o,reject:i}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var r=n.m||n;jt(r),e.resolve(r)},function(n){e.reject(n)})}function jt(e){Se().monaco||Ae({monaco:e})}function br(){return Se(function(e){var t=e.monaco;return t})}var Ke=new Promise(function(e,t){return Ae({resolve:e,reject:t})}),Fe={config:dr,init:pr,__getMonacoInstance:br},yr={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Xe=yr,wr={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Er=wr;function Sr({children:e}){return C.createElement("div",{style:Er.container},e)}var Pr=Sr,Cr=Pr;function $r({width:e,height:t,isEditorReady:n,loading:r,_ref:o,className:i,wrapperProps:s}){return C.createElement("section",{style:{...Xe.wrapper,width:e,height:t},...s},!n&&C.createElement(Cr,null,r),C.createElement("div",{ref:o,style:{...Xe.fullWidth,...!n&&Xe.hide},className:i}))}var Or=$r,Ht=l.memo(Or);function Mr(e){l.useEffect(e,[])}var ut=Mr;function xr(e,t,n=!0){let r=l.useRef(!0);l.useEffect(r.current||!n?()=>{r.current=!1}:e,t)}var K=xr;function ye(){}function de(e,t,n,r){return Rr(e,r)||Tr(e,t,n,r)}function Rr(e,t){return e.editor.getModel(kt(e,t))}function Tr(e,t,n,r){return e.editor.createModel(t,n,r?kt(e,r):void 0)}function kt(e,t){return e.Uri.parse(t)}function Fr({original:e,modified:t,language:n,originalLanguage:r,modifiedLanguage:o,originalModelPath:i,modifiedModelPath:s,keepCurrentOriginalModel:a=!1,keepCurrentModifiedModel:u=!1,theme:d="light",loading:c="Loading...",options:v={},height:g="100%",width:p="100%",className:f,wrapperProps:m={},beforeMount:h=ye,onMount:P=ye}){let[$,b]=l.useState(!1),[F,I]=l.useState(!0),L=l.useRef(null),R=l.useRef(null),D=l.useRef(null),H=l.useRef(P),O=l.useRef(h),j=l.useRef(!1);ut(()=>{let E=Fe.init();return E.then(N=>(R.current=N)&&I(!1)).catch(N=>(N==null?void 0:N.type)!=="cancelation"&&console.error("Monaco initialization: error:",N)),()=>L.current?k():E.cancel()}),K(()=>{if(L.current&&R.current){let E=L.current.getOriginalEditor(),N=de(R.current,e||"",r||n||"text",i||"");N!==E.getModel()&&E.setModel(N)}},[i],$),K(()=>{if(L.current&&R.current){let E=L.current.getModifiedEditor(),N=de(R.current,t||"",o||n||"text",s||"");N!==E.getModel()&&E.setModel(N)}},[s],$),K(()=>{let E=L.current.getModifiedEditor();E.getOption(R.current.editor.EditorOption.readOnly)?E.setValue(t||""):t!==E.getValue()&&(E.executeEdits("",[{range:E.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),E.pushUndoStop())},[t],$),K(()=>{var E,N;(N=(E=L.current)==null?void 0:E.getModel())==null||N.original.setValue(e||"")},[e],$),K(()=>{let{original:E,modified:N}=L.current.getModel();R.current.editor.setModelLanguage(E,r||n||"text"),R.current.editor.setModelLanguage(N,o||n||"text")},[n,r,o],$),K(()=>{var E;(E=R.current)==null||E.editor.setTheme(d)},[d],$),K(()=>{var E;(E=L.current)==null||E.updateOptions(v)},[v],$);let U=l.useCallback(()=>{var _;if(!R.current)return;O.current(R.current);let E=de(R.current,e||"",r||n||"text",i||""),N=de(R.current,t||"",o||n||"text",s||"");(_=L.current)==null||_.setModel({original:E,modified:N})},[n,t,o,e,r,i,s]),B=l.useCallback(()=>{var E;!j.current&&D.current&&(L.current=R.current.editor.createDiffEditor(D.current,{automaticLayout:!0,...v}),U(),(E=R.current)==null||E.editor.setTheme(d),b(!0),j.current=!0)},[v,d,U]);l.useEffect(()=>{$&&H.current(L.current,R.current)},[$]),l.useEffect(()=>{!F&&!$&&B()},[F,$,B]);function k(){var N,_,x,w;let E=(N=L.current)==null?void 0:N.getModel();a||((_=E==null?void 0:E.original)==null||_.dispose()),u||((x=E==null?void 0:E.modified)==null||x.dispose()),(w=L.current)==null||w.dispose()}return C.createElement(Ht,{width:p,height:g,isEditorReady:$,loading:c,_ref:D,className:f,wrapperProps:m})}var Ir=Fr;l.memo(Ir);function Nr(){let[e,t]=l.useState(Fe.__getMonacoInstance());return ut(()=>{let n;return e||(n=Fe.init(),n.then(r=>{t(r)})),()=>n==null?void 0:n.cancel()}),e}var Ar=Nr;function Lr(e){let t=l.useRef();return l.useEffect(()=>{t.current=e},[e]),t.current}var jr=Lr,Me=new Map;function Hr({defaultValue:e,defaultLanguage:t,defaultPath:n,value:r,language:o,path:i,theme:s="light",line:a,loading:u="Loading...",options:d={},overrideServices:c={},saveViewState:v=!0,keepCurrentModel:g=!1,width:p="100%",height:f="100%",className:m,wrapperProps:h={},beforeMount:P=ye,onMount:$=ye,onChange:b,onValidate:F=ye}){let[I,L]=l.useState(!1),[R,D]=l.useState(!0),H=l.useRef(null),O=l.useRef(null),j=l.useRef(null),U=l.useRef($),B=l.useRef(P),k=l.useRef(),E=l.useRef(r),N=jr(i),_=l.useRef(!1),x=l.useRef(!1);ut(()=>{let y=Fe.init();return y.then(S=>(H.current=S)&&D(!1)).catch(S=>(S==null?void 0:S.type)!=="cancelation"&&console.error("Monaco initialization: error:",S)),()=>O.current?M():y.cancel()}),K(()=>{var S,T,V,W;let y=de(H.current,e||r||"",t||o||"",i||n||"");y!==((S=O.current)==null?void 0:S.getModel())&&(v&&Me.set(N,(T=O.current)==null?void 0:T.saveViewState()),(V=O.current)==null||V.setModel(y),v&&((W=O.current)==null||W.restoreViewState(Me.get(i))))},[i],I),K(()=>{var y;(y=O.current)==null||y.updateOptions(d)},[d],I),K(()=>{!O.current||r===void 0||(O.current.getOption(H.current.editor.EditorOption.readOnly)?O.current.setValue(r):r!==O.current.getValue()&&(x.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),O.current.pushUndoStop(),x.current=!1))},[r],I),K(()=>{var S,T;let y=(S=O.current)==null?void 0:S.getModel();y&&o&&((T=H.current)==null||T.editor.setModelLanguage(y,o))},[o],I),K(()=>{var y;a!==void 0&&((y=O.current)==null||y.revealLine(a))},[a],I),K(()=>{var y;(y=H.current)==null||y.editor.setTheme(s)},[s],I);let w=l.useCallback(()=>{var y;if(!(!j.current||!H.current)&&!_.current){B.current(H.current);let S=i||n,T=de(H.current,r||e||"",t||o||"",S||"");O.current=(y=H.current)==null?void 0:y.editor.create(j.current,{model:T,automaticLayout:!0,...d},c),v&&O.current.restoreViewState(Me.get(S)),H.current.editor.setTheme(s),a!==void 0&&O.current.revealLine(a),L(!0),_.current=!0}},[e,t,n,r,o,i,d,c,v,s,a]);l.useEffect(()=>{I&&U.current(O.current,H.current)},[I]),l.useEffect(()=>{!R&&!I&&w()},[R,I,w]),E.current=r,l.useEffect(()=>{var y,S;I&&b&&((y=k.current)==null||y.dispose(),k.current=(S=O.current)==null?void 0:S.onDidChangeModelContent(T=>{x.current||b(O.current.getValue(),T)}))},[I,b]),l.useEffect(()=>{if(I){let y=H.current.editor.onDidChangeMarkers(S=>{var V;let T=(V=O.current.getModel())==null?void 0:V.uri;if(T&&S.find(W=>W.path===T.path)){let W=H.current.editor.getModelMarkers({resource:T});F==null||F(W)}});return()=>{y==null||y.dispose()}}return()=>{}},[I,F]);function M(){var y,S;(y=k.current)==null||y.dispose(),g?v&&Me.set(i,O.current.saveViewState()):(S=O.current.getModel())==null||S.dispose(),O.current.dispose()}return C.createElement(Ht,{width:p,height:f,isEditorReady:I,loading:u,_ref:j,className:m,wrapperProps:h})}var kr=Hr,Dr=l.memo(kr),Br=Dr,_r=Object.defineProperty,Vr=(e,t,n)=>t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ye=(e,t,n)=>(Vr(e,typeof t!="symbol"?t+"":t,n),n);let Ur=class{constructor(){Ye(this,"current",this.detect()),Ye(this,"handoffState","pending"),Ye(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ce=new Ur;function Pe(e){return ce.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}function Dt(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function fe(){let e=[],t={addEventListener(n,r,o,i){return n.addEventListener(r,o,i),t.add(()=>n.removeEventListener(r,o,i))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);return t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...n))},setTimeout(...n){let r=setTimeout(...n);return t.add(()=>clearTimeout(r))},microTask(...n){let r={current:!0};return Dt(()=>{r.current&&n[0]()}),t.add(()=>{r.current=!1})},style(n,r,o){let i=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:o}),this.add(()=>{Object.assign(n.style,{[r]:i})})},group(n){let r=fe();return n(r),this.add(()=>r.dispose())},add(n){return e.includes(n)||e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let o of e.splice(r,1))o()}},dispose(){for(let n of e.splice(0))n()}};return t}function Le(){let[e]=l.useState(fe);return l.useEffect(()=>()=>e.dispose(),[e]),e}let q=(e,t)=>{ce.isServer?l.useEffect(e,t):l.useLayoutEffect(e,t)};function ne(e){let t=l.useRef(e);return q(()=>{t.current=e},[e]),t}let A=function(e){let t=ne(e);return C.useCallback((...n)=>t.current(...n),[t])};function Wr(e){let t=e.width/2,n=e.height/2;return{top:e.clientY-n,right:e.clientX+t,bottom:e.clientY+n,left:e.clientX-t}}function qr(e,t){return!(!e||!t||e.right<t.left||e.left>t.right||e.bottom<t.top||e.top>t.bottom)}function zr({disabled:e=!1}={}){let t=l.useRef(null),[n,r]=l.useState(!1),o=Le(),i=A(()=>{t.current=null,r(!1),o.dispose()}),s=A(a=>{if(o.dispose(),t.current===null){t.current=a.currentTarget,r(!0);{let u=Pe(a.currentTarget);o.addEventListener(u,"pointerup",i,!1),o.addEventListener(u,"pointermove",d=>{if(t.current){let c=Wr(d);r(qr(c,t.current.getBoundingClientRect()))}},!1),o.addEventListener(u,"pointercancel",i,!1)}}});return{pressed:n,pressProps:e?{}:{onPointerDown:s,onPointerUp:i,onClick:i}}}function tt(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}function J(e,t,...n){if(e in t){let o=t[e];return typeof o=="function"?o(...n):o}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(o=>`"${o}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,J),r}var pe=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(pe||{}),oe=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(oe||{});function Q({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:s,mergeRefs:a}){a=a??Kr;let u=Bt(t,e);if(i)return xe(u,n,r,s,a);let d=o??0;if(d&2){let{static:c=!1,...v}=u;if(c)return xe(v,n,r,s,a)}if(d&1){let{unmount:c=!0,...v}=u;return J(c?0:1,{0(){return null},1(){return xe({...v,hidden:!0,style:{display:"none"}},n,r,s,a)}})}return xe(u,n,r,s,a)}function xe(e,t={},n,r,o){let{as:i=n,children:s,refName:a="ref",...u}=Je(e,["unmount","static"]),d=e.ref!==void 0?{[a]:e.ref}:{},c=typeof s=="function"?s(t):s;"className"in u&&u.className&&typeof u.className=="function"&&(u.className=u.className(t)),u["aria-labelledby"]&&u["aria-labelledby"]===u.id&&(u["aria-labelledby"]=void 0);let v={};if(t){let g=!1,p=[];for(let[f,m]of Object.entries(t))typeof m=="boolean"&&(g=!0),m===!0&&p.push(f.replace(/([A-Z])/g,h=>`-${h.toLowerCase()}`));if(g){v["data-headlessui-state"]=p.join(" ");for(let f of p)v[`data-${f}`]=""}}if(i===l.Fragment&&(Object.keys(ue(u)).length>0||Object.keys(ue(v)).length>0))if(!l.isValidElement(c)||Array.isArray(c)&&c.length>1){if(Object.keys(ue(u)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(ue(u)).concat(Object.keys(ue(v))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=c.props,p=g==null?void 0:g.className,f=typeof p=="function"?(...P)=>tt(p(...P),u.className):tt(p,u.className),m=f?{className:f}:{},h=Bt(c.props,ue(Je(u,["ref"])));for(let P in v)P in h&&delete v[P];return l.cloneElement(c,Object.assign({},h,v,d,{ref:o(c.ref,d.ref)},m))}return l.createElement(i,Object.assign({},Je(u,["ref"]),i!==l.Fragment&&d,i!==l.Fragment&&v),c)}function Gr(){let e=l.useRef([]),t=l.useCallback(n=>{for(let r of e.current)r!=null&&(typeof r=="function"?r(n):r.current=n)},[]);return(...n)=>{if(!n.every(r=>r==null))return e.current=n,t}}function Kr(...e){return e.every(t=>t==null)?void 0:t=>{for(let n of e)n!=null&&(typeof n=="function"?n(t):n.current=t)}}function Bt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];if(t.disabled||t["aria-disabled"])for(let r in n)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(r)&&(n[r]=[o=>{var i;return(i=o==null?void 0:o.preventDefault)==null?void 0:i.call(o)}]);for(let r in n)Object.assign(t,{[r](o,...i){let s=n[r];for(let a of s){if((o instanceof Event||(o==null?void 0:o.nativeEvent)instanceof Event)&&o.defaultPrevented)return;a(o,...i)}}});return t}function nt(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let o in r)o.startsWith("on")&&typeof r[o]=="function"?(n[o]!=null||(n[o]=[]),n[o].push(r[o])):t[o]=r[o];for(let r in n)Object.assign(t,{[r](...o){let i=n[r];for(let s of i)s==null||s(...o)}});return t}function Y(e){var t;return Object.assign(l.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function ue(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function Je(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}let Xr="span";var Ee=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Ee||{});function Yr(e,t){var n;let{features:r=1,...o}=e,i={ref:t,"aria-hidden":(r&2)===2?!0:(n=o["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Q({ourProps:i,theirProps:o,slot:{},defaultTag:Xr,name:"Hidden"})}let Ie=Y(Yr);function _t(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=(t==null?void 0:t.getAttribute("disabled"))==="";return r&&Jr(n)?!1:r}function Jr(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}let Vt=Symbol();function Ut(e,t=!0){return Object.assign(e,{[Vt]:t})}function Z(...e){let t=l.useRef(e);l.useEffect(()=>{t.current=e},[e]);let n=A(r=>{for(let o of t.current)o!=null&&(typeof o=="function"?o(r):o.current=r)});return e.every(r=>r==null||(r==null?void 0:r[Vt]))?void 0:n}var re=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(re||{});let Zr=l.createContext(()=>{});function Qr({value:e,children:t}){return C.createElement(Zr.Provider,{value:e},t)}function eo(e){if(e===null)return{width:0,height:0};let{width:t,height:n}=e.getBoundingClientRect();return{width:t,height:n}}function to(e,t=!1){let[n,r]=l.useReducer(()=>({}),{}),o=l.useMemo(()=>eo(e),[e,n]);return q(()=>{if(!e)return;let i=new ResizeObserver(r);return i.observe(e),()=>{i.disconnect()}},[e]),t?{width:`${o.width}px`,height:`${o.height}px`}:o}let no=class extends Map{constructor(t){super(),this.factory=t}get(t){let n=super.get(t);return n===void 0&&(n=this.factory(t),this.set(t,n)),n}};function Wt(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(o){return r.add(o),()=>r.delete(o)},dispatch(o,...i){let s=t[o].call(n,...i);s&&(n=s,r.forEach(a=>a()))}}}function qt(e){return l.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getSnapshot)}let ro=new no(()=>Wt(()=>[],{ADD(e){return this.includes(e)?this:[...this,e]},REMOVE(e){let t=this.indexOf(e);if(t===-1)return this;let n=this.slice();return n.splice(t,1),n}}));function zt(e,t){let n=ro.get(t),r=l.useId(),o=qt(n);if(q(()=>{if(e)return n.dispatch("ADD",r),()=>n.dispatch("REMOVE",r)},[n,e]),!e)return!1;let i=o.indexOf(r),s=o.length;return i===-1&&(i=s,s+=1),i===s-1}function oo(e,t,n){let r=ne(o=>{let i=o.getBoundingClientRect();i.x===0&&i.y===0&&i.width===0&&i.height===0&&n()});l.useEffect(()=>{if(!e)return;let o=t===null?null:t instanceof HTMLElement?t:t.current;if(!o)return;let i=fe();if(typeof ResizeObserver<"u"){let s=new ResizeObserver(()=>r.current(o));s.observe(o),i.add(()=>s.disconnect())}if(typeof IntersectionObserver<"u"){let s=new IntersectionObserver(()=>r.current(o));s.observe(o),i.add(()=>s.disconnect())}return()=>i.dispose()},[t,r,e])}let rt=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(","),lo=["[data-autofocus]"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var ee=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e[e.AutoFocus=64]="AutoFocus",e))(ee||{}),Ne=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Ne||{}),io=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(io||{});function je(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(rt)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function uo(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(lo)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var at=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(at||{});function Gt(e,t=0){var n;return e===((n=Pe(e))==null?void 0:n.body)?!1:J(t,{0(){return e.matches(rt)},1(){let r=e;for(;r!==null;){if(r.matches(rt))return!0;r=r.parentElement}return!1}})}var ao=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(ao||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let so=["textarea","input"].join(",");function co(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,so))!=null?n:!1}function fo(e,t=n=>n){return e.slice().sort((n,r)=>{let o=t(n),i=t(r);if(o===null||i===null)return 0;let s=o.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ae(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:o=[]}={}){let i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,s=Array.isArray(e)?n?fo(e):e:t&64?uo(e):je(e);o.length>0&&s.length>1&&(s=s.filter(p=>!o.some(f=>f!=null&&"current"in f?(f==null?void 0:f.current)===p:f===p))),r=r??i.activeElement;let a=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,s.indexOf(r))-1;if(t&4)return Math.max(0,s.indexOf(r))+1;if(t&8)return s.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},c=0,v=s.length,g;do{if(c>=v||c+v<=0)return 0;let p=u+c;if(t&16)p=(p+v)%v;else{if(p<0)return 3;if(p>=v)return 1}g=s[p],g==null||g.focus(d),c+=a}while(g!==i.activeElement);return t&6&&co(g)&&g.select(),2}function Kt(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function po(){return/Android/gi.test(window.navigator.userAgent)}function mo(){return Kt()||po()}function ve(e,t,n,r){let o=ne(n);l.useEffect(()=>{if(!e)return;function i(s){o.current(s)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[e,t,r])}function Xt(e,t,n,r){let o=ne(n);l.useEffect(()=>{if(!e)return;function i(s){o.current(s)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[e,t,r])}const St=30;function go(e,t,n){let r=zt(e,"outside-click"),o=ne(n),i=l.useCallback(function(u,d){if(u.defaultPrevented)return;let c=d(u);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let v=function g(p){return typeof p=="function"?g(p()):Array.isArray(p)||p instanceof Set?p:[p]}(t);for(let g of v)if(g!==null&&(g.contains(c)||u.composed&&u.composedPath().includes(g)))return;return!Gt(c,at.Loose)&&c.tabIndex!==-1&&u.preventDefault(),o.current(u,c)},[o,t]),s=l.useRef(null);ve(r,"pointerdown",u=>{var d,c;s.current=((c=(d=u.composedPath)==null?void 0:d.call(u))==null?void 0:c[0])||u.target},!0),ve(r,"mousedown",u=>{var d,c;s.current=((c=(d=u.composedPath)==null?void 0:d.call(u))==null?void 0:c[0])||u.target},!0),ve(r,"click",u=>{mo()||s.current&&(i(u,()=>s.current),s.current=null)},!0);let a=l.useRef({x:0,y:0});ve(r,"touchstart",u=>{a.current.x=u.touches[0].clientX,a.current.y=u.touches[0].clientY},!0),ve(r,"touchend",u=>{let d={x:u.changedTouches[0].clientX,y:u.changedTouches[0].clientY};if(!(Math.abs(d.x-a.current.x)>=St||Math.abs(d.y-a.current.y)>=St))return i(u,()=>u.target instanceof HTMLElement?u.target:null)},!0),Xt(r,"blur",u=>i(u,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function me(...e){return l.useMemo(()=>Pe(...e),[...e])}function vo(e,t,n,r){let o=ne(n);l.useEffect(()=>{e=e??window;function i(s){o.current(s)}return e.addEventListener(t,i,r),()=>e.removeEventListener(t,i,r)},[e,t,r])}function ho(e,t){return l.useMemo(()=>{var n;if(e.type)return e.type;let r=(n=e.as)!=null?n:"button";if(typeof r=="string"&&r.toLowerCase()==="button"||(t==null?void 0:t.tagName)==="BUTTON"&&!t.hasAttribute("type"))return"button"},[e.type,e.as,t])}function bo(){let e;return{before({doc:t}){var n;let r=t.documentElement,o=(n=t.defaultView)!=null?n:window;e=Math.max(0,o.innerWidth-r.clientWidth)},after({doc:t,d:n}){let r=t.documentElement,o=Math.max(0,r.clientWidth-r.offsetWidth),i=Math.max(0,e-o);n.style(r,"paddingRight",`${i}px`)}}}function yo(){return Kt()?{before({doc:e,d:t,meta:n}){function r(o){return n.containers.flatMap(i=>i()).some(i=>i.contains(o))}t.microTask(()=>{var o;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let a=fe();a.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>a.dispose()))}let i=(o=window.scrollY)!=null?o:window.pageYOffset,s=null;t.addEventListener(e,"click",a=>{if(a.target instanceof HTMLElement)try{let u=a.target.closest("a");if(!u)return;let{hash:d}=new URL(u.href),c=e.querySelector(d);c&&!r(c)&&(s=c)}catch{}},!0),t.addEventListener(e,"touchstart",a=>{if(a.target instanceof HTMLElement)if(r(a.target)){let u=a.target;for(;u.parentElement&&r(u.parentElement);)u=u.parentElement;t.style(u,"overscrollBehavior","contain")}else t.style(a.target,"touchAction","none")}),t.addEventListener(e,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(r(a.target)){let u=a.target;for(;u.parentElement&&u.dataset.headlessuiPortal!==""&&!(u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth);)u=u.parentElement;u.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),t.add(()=>{var a;let u=(a=window.scrollY)!=null?a:window.pageYOffset;i!==u&&window.scrollTo(0,i),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})})}}:{}}function wo(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Eo(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let se=Wt(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:fe(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:Eo(n)},o=[yo(),bo(),wo()];o.forEach(({before:i})=>i==null?void 0:i(r)),o.forEach(({after:i})=>i==null?void 0:i(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});se.subscribe(()=>{let e=se.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",o=n.count!==0;(o&&!r||!o&&r)&&se.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&se.dispatch("TEARDOWN",n)}});function So(e,t,n=()=>({containers:[]})){let r=qt(se),o=t?r.get(t):void 0,i=o?o.count>0:!1;return q(()=>{if(!(!t||!e))return se.dispatch("PUSH",t,n),()=>se.dispatch("POP",t,n)},[e,t]),i}function Po(e,t,n=()=>[document.body]){let r=zt(e,"scroll-lock");So(r,t,o=>{var i;return{containers:[...(i=o.containers)!=null?i:[],n]}})}function Co(e=0){let[t,n]=l.useState(e),r=l.useCallback(u=>n(u),[t]),o=l.useCallback(u=>n(d=>d|u),[t]),i=l.useCallback(u=>(t&u)===u,[t]),s=l.useCallback(u=>n(d=>d&~u),[n]),a=l.useCallback(u=>n(d=>d^u),[n]);return{flags:t,setFlag:r,addFlag:o,hasFlag:i,removeFlag:s,toggleFlag:a}}var Pt;typeof process<"u"&&typeof globalThis<"u"&&((Pt=process==null?void 0:new Object({NEXT_PUBLIC_TINA_CLIENT_ID:"e5e0960e-a7b6-4922-a8d3-e1a0057f58e3"}))==null?void 0:Pt.NODE_ENV)==="test"&&typeof Element.prototype.getAnimations>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var $o=(e=>(e[e.None=0]="None",e[e.Closed=1]="Closed",e[e.Enter=2]="Enter",e[e.Leave=4]="Leave",e))($o||{});function st(e){let t={};for(let n in e)e[n]===!0&&(t[`data-${n}`]="");return t}function ct(e,t,n,r){let[o,i]=l.useState(n),{hasFlag:s,addFlag:a,removeFlag:u}=Co(e&&o?3:0),d=l.useRef(!1),c=l.useRef(!1),v=Le();return q(()=>{var g;if(e){if(n&&i(!0),!t){n&&a(3);return}return(g=r==null?void 0:r.start)==null||g.call(r,n),Oo(t,{inFlight:d,prepare(){c.current?c.current=!1:c.current=d.current,d.current=!0,!c.current&&(n?(a(3),u(4)):(a(4),u(2)))},run(){c.current?n?(u(3),a(4)):(u(4),a(3)):n?u(1):a(1)},done(){var p;c.current&&typeof t.getAnimations=="function"&&t.getAnimations().length>0||(d.current=!1,u(7),n||i(!1),(p=r==null?void 0:r.end)==null||p.call(r,n))}})}},[e,n,t,v]),e?[o,{closed:s(1),enter:s(2),leave:s(4),transition:s(2)||s(4)}]:[n,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function Oo(e,{prepare:t,run:n,done:r,inFlight:o}){let i=fe();return xo(e,{prepare:t,inFlight:o}),i.nextFrame(()=>{n(),i.requestAnimationFrame(()=>{i.add(Mo(e,r))})}),i.dispose}function Mo(e,t){var n,r;let o=fe();if(!e)return o.dispose;let i=!1;o.add(()=>{i=!0});let s=(r=(n=e.getAnimations)==null?void 0:n.call(e).filter(a=>a instanceof CSSTransition))!=null?r:[];return s.length===0?(t(),o.dispose):(Promise.allSettled(s.map(a=>a.finished)).then(()=>{i||t()}),o.dispose)}function xo(e,{inFlight:t,prepare:n}){if(t!=null&&t.current){n();return}let r=e.style.transition;e.style.transition="none",n(),e.offsetHeight,e.style.transition=r}function Ro(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}const Yt={...et},To=Yt.useInsertionEffect,Fo=To||(e=>e());function Jt(e){const t=l.useRef(()=>{});return Fo(()=>{t.current=e}),l.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}var ot=typeof document<"u"?l.useLayoutEffect:l.useEffect;let Ct=!1,Io=0;const $t=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Io++;function No(){const[e,t]=l.useState(()=>Ct?$t():void 0);return ot(()=>{e==null&&t($t())},[]),l.useEffect(()=>{Ct=!0},[]),e}const Ao=Yt.useId,Lo=Ao||No;function jo(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Ho=l.createContext(null),ko=l.createContext(null),Do=()=>{var e;return((e=l.useContext(Ho))==null?void 0:e.id)||null},Bo=()=>l.useContext(ko),_o="data-floating-ui-focusable";function Vo(e){const{open:t=!1,onOpenChange:n,elements:r}=e,o=Lo(),i=l.useRef({}),[s]=l.useState(()=>jo()),a=Do()!=null,[u,d]=l.useState(r.reference),c=Jt((p,f,m)=>{i.current.openEvent=p?f:void 0,s.emit("openchange",{open:p,event:f,reason:m,nested:a}),n==null||n(p,f,m)}),v=l.useMemo(()=>({setPositionReference:d}),[]),g=l.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return l.useMemo(()=>({dataRef:i,open:t,onOpenChange:c,elements:g,events:s,floatingId:o,refs:v}),[t,c,g,s,o,v])}function Uo(e){e===void 0&&(e={});const{nodeId:t}=e,n=Vo({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,o=r.elements,[i,s]=l.useState(null),[a,u]=l.useState(null),c=(o==null?void 0:o.domReference)||i,v=l.useRef(null),g=Bo();ot(()=>{c&&(v.current=c)},[c]);const p=hn({...e,elements:{...o,...a&&{reference:a}}}),f=l.useCallback(b=>{const F=$e(b)?{getBoundingClientRect:()=>b.getBoundingClientRect(),contextElement:b}:b;u(F),p.refs.setReference(F)},[p.refs]),m=l.useCallback(b=>{($e(b)||b===null)&&(v.current=b,s(b)),($e(p.refs.reference.current)||p.refs.reference.current===null||b!==null&&!$e(b))&&p.refs.setReference(b)},[p.refs]),h=l.useMemo(()=>({...p.refs,setReference:m,setPositionReference:f,domReference:v}),[p.refs,m,f]),P=l.useMemo(()=>({...p.elements,domReference:c}),[p.elements,c]),$=l.useMemo(()=>({...p,...r,refs:h,elements:P,nodeId:t}),[p,h,P,t,r]);return ot(()=>{r.dataRef.current.floatingContext=$;const b=g==null?void 0:g.nodesRef.current.find(F=>F.id===t);b&&(b.context=$)}),l.useMemo(()=>({...p,context:$,refs:h,elements:P}),[p,h,P,$])}const Ot="active",Mt="selected";function Ze(e,t,n){const r=new Map,o=n==="item";let i=e;if(o&&e){const{[Ot]:s,[Mt]:a,...u}=e;i=u}return{...n==="floating"&&{tabIndex:-1,[_o]:""},...i,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(u=>{let[d,c]=u;if(!(o&&[Ot,Mt].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof c=="function"){var v;(v=r.get(d))==null||v.push(c),s[d]=function(){for(var g,p=arguments.length,f=new Array(p),m=0;m<p;m++)f[m]=arguments[m];return(g=r.get(d))==null?void 0:g.map(h=>h(...f)).find(h=>h!==void 0)}}}else s[d]=c}),s),{})}}function Wo(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),o=l.useCallback(a=>Ze(a,e,"reference"),t),i=l.useCallback(a=>Ze(a,e,"floating"),n),s=l.useCallback(a=>Ze(a,e,"item"),r);return l.useMemo(()=>({getReferenceProps:o,getFloatingProps:i,getItemProps:s}),[o,i,s])}function xt(e,t){return{...e,rects:{...e.rects,floating:{...e.rects.floating,height:t}}}}const qo=e=>({name:"inner",options:e,async fn(t){const{listRef:n,overflowRef:r,onFallbackChange:o,offset:i=0,index:s=0,minItemsVisible:a=4,referenceOverflowThreshold:u=0,scrollRef:d,...c}=bn(e,t),{rects:v,elements:{floating:g}}=t,p=n.current[s],f=(d==null?void 0:d.current)||g,m=g.clientTop||f.clientTop,h=g.clientTop!==0,P=f.clientTop!==0,$=g===f;if(!p)return{};const b={...t,...await It(-p.offsetTop-g.clientTop-v.reference.height/2-p.offsetHeight/2-i).fn(t)},F=await qe(xt(b,f.scrollHeight+m+g.clientTop),c),I=await qe(b,{...c,elementContext:"reference"}),L=ze(0,F.top),R=b.y+L,O=(f.scrollHeight>f.clientHeight?j=>j:wn)(ze(0,f.scrollHeight+(h&&$||P?m*2:0)-L-ze(0,F.bottom)));if(f.style.maxHeight=O+"px",f.scrollTop=L,o){const j=f.offsetHeight<p.offsetHeight*yn(a,n.current.length)-1||I.top>=-u||I.bottom>=-u;Re.flushSync(()=>o(j))}return r&&(r.current=await qe(xt({...b,y:R},f.offsetHeight+m+g.clientTop),c)),{y:R}}});function zo(e,t){const{open:n,elements:r}=e,{enabled:o=!0,overflowRef:i,scrollRef:s,onChange:a}=t,u=Jt(a),d=l.useRef(!1),c=l.useRef(null),v=l.useRef(null);l.useEffect(()=>{if(!o)return;function p(m){if(m.ctrlKey||!f||i.current==null)return;const h=m.deltaY,P=i.current.top>=-.5,$=i.current.bottom>=-.5,b=f.scrollHeight-f.clientHeight,F=h<0?-1:1,I=h<0?"max":"min";f.scrollHeight<=f.clientHeight||(!P&&h>0||!$&&h<0?(m.preventDefault(),Re.flushSync(()=>{u(L=>L+Math[I](h,b*F))})):/firefox/i.test(Ro())&&(f.scrollTop+=h))}const f=(s==null?void 0:s.current)||r.floating;if(n&&f)return f.addEventListener("wheel",p),requestAnimationFrame(()=>{c.current=f.scrollTop,i.current!=null&&(v.current={...i.current})}),()=>{c.current=null,v.current=null,f.removeEventListener("wheel",p)}},[o,n,r.floating,i,s,u]);const g=l.useMemo(()=>({onKeyDown(){d.current=!0},onWheel(){d.current=!1},onPointerMove(){d.current=!1},onScroll(){const p=(s==null?void 0:s.current)||r.floating;if(!(!i.current||!p||!d.current)){if(c.current!==null){const f=p.scrollTop-c.current;(i.current.bottom<-.5&&f<-1||i.current.top<-.5&&f>1)&&Re.flushSync(()=>u(m=>m+f))}requestAnimationFrame(()=>{c.current=p.scrollTop})}}}),[r.floating,u,i,s]);return l.useMemo(()=>o?{floating:g}:{},[o,g])}let Ce=l.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Ce.displayName="FloatingContext";let ft=l.createContext(null);ft.displayName="PlacementContext";function Go(e){return l.useMemo(()=>e?typeof e=="string"?{to:e}:e:null,[e])}function Ko(){return l.useContext(Ce).setReference}function Xo(){let{getFloatingProps:e,slot:t}=l.useContext(Ce);return l.useCallback((...n)=>Object.assign({},e(...n),{"data-anchor":t.anchor}),[e,t])}function Yo(e=null){e===!1&&(e=null),typeof e=="string"&&(e={to:e});let t=l.useContext(ft),n=l.useMemo(()=>e,[JSON.stringify(e,typeof HTMLElement<"u"?(o,i)=>i instanceof HTMLElement?i.outerHTML:i:void 0)]);q(()=>{t==null||t(n??null)},[t,n]);let r=l.useContext(Ce);return l.useMemo(()=>[r.setFloating,e?r.styles:{}],[r.setFloating,e,r.styles])}let Rt=4;function Jo({children:e,enabled:t=!0}){let[n,r]=l.useState(null),[o,i]=l.useState(0),s=l.useRef(null),[a,u]=l.useState(null);Zo(a);let d=t&&n!==null&&a!==null,{to:c="bottom",gap:v=0,offset:g=0,padding:p=0,inner:f}=Qo(n,a),[m,h="center"]=c.split(" ");q(()=>{d&&i(0)},[d]);let{refs:P,floatingStyles:$,context:b}=Uo({open:d,placement:m==="selection"?h==="center"?"bottom":`bottom-${h}`:h==="center"?`${m}`:`${m}-${h}`,strategy:"absolute",transform:!1,middleware:[It({mainAxis:m==="selection"?0:v,crossAxis:g}),En({padding:p}),m!=="selection"&&Sn({padding:p}),m==="selection"&&f?qo({...f,padding:p,overflowRef:s,offset:o,minItemsVisible:Rt,referenceOverflowThreshold:p,onFallbackChange(j){var U,B;if(!j)return;let k=b.elements.floating;if(!k)return;let E=parseFloat(getComputedStyle(k).scrollPaddingBottom)||0,N=Math.min(Rt,k.childElementCount),_=0,x=0;for(let w of(B=(U=b.elements.floating)==null?void 0:U.childNodes)!=null?B:[])if(w instanceof HTMLElement){let M=w.offsetTop,y=M+w.clientHeight+E,S=k.scrollTop,T=S+k.clientHeight;if(M>=S&&y<=T)N--;else{x=Math.max(0,Math.min(y,T)-Math.max(M,S)),_=w.clientHeight;break}}N>=1&&i(w=>{let M=_*N-x+E;return w>=M?w:M})}}):null,Pn({padding:p,apply({availableWidth:j,availableHeight:U,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${j}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${U}px)`})}})].filter(Boolean),whileElementsMounted:Cn}),[F=m,I=h]=b.placement.split("-");m==="selection"&&(F="selection");let L=l.useMemo(()=>({anchor:[F,I].filter(Boolean).join(" ")}),[F,I]),R=zo(b,{overflowRef:s,onChange:i}),{getReferenceProps:D,getFloatingProps:H}=Wo([R]),O=A(j=>{u(j),P.setFloating(j)});return l.createElement(ft.Provider,{value:r},l.createElement(Ce.Provider,{value:{setFloating:O,setReference:P.setReference,styles:$,getReferenceProps:D,getFloatingProps:H,slot:L}},e))}function Zo(e){q(()=>{if(!e)return;let t=new MutationObserver(()=>{let n=window.getComputedStyle(e).maxHeight,r=parseFloat(n);if(isNaN(r))return;let o=parseInt(n);isNaN(o)||r!==o&&(e.style.maxHeight=`${Math.ceil(r)}px`)});return t.observe(e,{attributes:!0,attributeFilter:["style"]}),()=>{t.disconnect()}},[e])}function Qo(e,t){var n,r,o;let i=Qe((n=e==null?void 0:e.gap)!=null?n:"var(--anchor-gap, 0)",t),s=Qe((r=e==null?void 0:e.offset)!=null?r:"var(--anchor-offset, 0)",t),a=Qe((o=e==null?void 0:e.padding)!=null?o:"var(--anchor-padding, 0)",t);return{...e,gap:i,offset:s,padding:a}}function Qe(e,t,n=void 0){let r=Le(),o=A((u,d)=>{if(u==null)return[n,null];if(typeof u=="number")return[u,null];if(typeof u=="string"){if(!d)return[n,null];let c=Tt(u,d);return[c,v=>{let g=Zt(u);{let p=g.map(f=>window.getComputedStyle(d).getPropertyValue(f));r.requestAnimationFrame(function f(){r.nextFrame(f);let m=!1;for(let[P,$]of g.entries()){let b=window.getComputedStyle(d).getPropertyValue($);if(p[P]!==b){p[P]=b,m=!0;break}}if(!m)return;let h=Tt(u,d);c!==h&&(v(h),c=h)})}return r.dispose}]}return[n,null]}),i=l.useMemo(()=>o(e,t)[0],[e,t]),[s=i,a]=l.useState();return q(()=>{let[u,d]=o(e,t);if(a(u),!!d)return d(a)},[e,t]),s}function Zt(e){let t=/var\((.*)\)/.exec(e);if(t){let n=t[1].indexOf(",");if(n===-1)return[t[1]];let r=t[1].slice(0,n).trim(),o=t[1].slice(n+1).trim();return o?[r,...Zt(o)]:[r]}return[]}function Tt(e,t){let n=document.createElement("div");t.appendChild(n),n.style.setProperty("margin-top","0px","important"),n.style.setProperty("margin-top",e,"important");let r=parseFloat(window.getComputedStyle(n).marginTop)||0;return t.removeChild(n),r}let He=l.createContext(null);He.displayName="OpenClosedContext";var X=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(X||{});function ke(){return l.useContext(He)}function Qt({value:e,children:t}){return C.createElement(He.Provider,{value:e},t)}function el({children:e}){return C.createElement(He.Provider,{value:null},e)}function tl(e){let t=A(e),n=l.useRef(!1);l.useEffect(()=>(n.current=!1,()=>{n.current=!0,Dt(()=>{n.current&&t()})}),[t])}function nl(){let e=typeof document>"u";return"useSyncExternalStore"in et?(t=>t.useSyncExternalStore)(et)(()=>()=>{},()=>!1,()=>!e):!1}function dt(){let e=nl(),[t,n]=l.useState(ce.isHandoffComplete);return t&&ce.isHandoffComplete===!1&&n(!1),l.useEffect(()=>{t!==!0&&n(!0)},[t]),l.useEffect(()=>ce.handoff(),[]),e?!1:t}let rl=l.createContext(!1);function ol(){return l.useContext(rl)}function ll(e){let t=ol(),n=l.useContext(tn),r=me(e),[o,i]=l.useState(()=>{var s;if(!t&&n!==null)return(s=n.current)!=null?s:null;if(ce.isServer)return null;let a=r==null?void 0:r.getElementById("headlessui-portal-root");if(a)return a;if(r===null)return null;let u=r.createElement("div");return u.setAttribute("id","headlessui-portal-root"),r.body.appendChild(u)});return l.useEffect(()=>{o!==null&&(r!=null&&r.body.contains(o)||r==null||r.body.appendChild(o))},[o,r]),l.useEffect(()=>{t||n!==null&&i(n.current)},[n,i,t]),o}let en=l.Fragment,il=Y(function(e,t){let n=e,r=l.useRef(null),o=Z(Ut(c=>{r.current=c}),t),i=me(r),s=ll(r),[a]=l.useState(()=>{var c;return ce.isServer?null:(c=i==null?void 0:i.createElement("div"))!=null?c:null}),u=l.useContext(lt),d=dt();return q(()=>{!s||!a||s.contains(a)||(a.setAttribute("data-headlessui-portal",""),s.appendChild(a))},[s,a]),q(()=>{if(a&&u)return u.register(a)},[u,a]),tl(()=>{var c;!s||!a||(a instanceof Node&&s.contains(a)&&s.removeChild(a),s.childNodes.length<=0&&((c=s.parentElement)==null||c.removeChild(s)))}),d?!s||!a?null:Re.createPortal(Q({ourProps:{ref:o},theirProps:n,slot:{},defaultTag:en,name:"Portal"}),a):null});function ul(e,t){let n=Z(t),{enabled:r=!0,...o}=e;return r?C.createElement(il,{...o,ref:n}):Q({ourProps:{ref:n},theirProps:o,slot:{},defaultTag:en,name:"Portal"})}let al=l.Fragment,tn=l.createContext(null);function sl(e,t){let{target:n,...r}=e,o={ref:Z(t)};return C.createElement(tn.Provider,{value:n},Q({ourProps:o,theirProps:r,defaultTag:al,name:"Popover.Group"}))}let lt=l.createContext(null);function cl(){let e=l.useContext(lt),t=l.useRef([]),n=A(i=>(t.current.push(i),e&&e.register(i),()=>r(i))),r=A(i=>{let s=t.current.indexOf(i);s!==-1&&t.current.splice(s,1),e&&e.unregister(i)}),o=l.useMemo(()=>({register:n,unregister:r,portals:t}),[n,r,t]);return[t,l.useMemo(()=>function({children:i}){return C.createElement(lt.Provider,{value:o},i)},[o])]}let fl=Y(ul),dl=Y(sl),pl=Object.assign(fl,{Group:dl});function ml({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=me(n),o=A(()=>{var i,s;let a=[];for(let u of e)u!==null&&(u instanceof HTMLElement?a.push(u):"current"in u&&u.current instanceof HTMLElement&&a.push(u.current));if(t!=null&&t.current)for(let u of t.current)a.push(u);for(let u of(i=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?i:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||a.some(d=>u.contains(d))||a.push(u));return a});return{resolveContainers:o,contains:A(i=>o().some(s=>s.contains(i)))}}let nn=l.createContext(null);function rn({children:e,node:t}){let[n,r]=l.useState(null),o=on(t??n);return C.createElement(nn.Provider,{value:o},e,o===null&&C.createElement(Ie,{features:Ee.Hidden,ref:i=>{var s,a;if(i){for(let u of(a=(s=Pe(i))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?a:[])if(u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u!=null&&u.contains(i)){r(u);break}}}}))}function on(e=null){var t;return(t=l.useContext(nn))!=null?t:e}function gl(){let e=l.useRef(!1);return q(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var te=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(te||{});function ln(){let e=l.useRef(0);return Xt(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function un(e){var t;return!!(e.enter||e.enterFrom||e.enterTo||e.leave||e.leaveFrom||e.leaveTo)||((t=e.as)!=null?t:sn)!==l.Fragment||C.Children.count(e.children)===1}let De=l.createContext(null);De.displayName="TransitionContext";var vl=(e=>(e.Visible="visible",e.Hidden="hidden",e))(vl||{});function hl(){let e=l.useContext(De);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function bl(){let e=l.useContext(Be);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let Be=l.createContext(null);Be.displayName="NestingContext";function _e(e){return"children"in e?_e(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function an(e,t){let n=ne(e),r=l.useRef([]),o=gl(),i=Le(),s=A((p,f=oe.Hidden)=>{let m=r.current.findIndex(({el:h})=>h===p);m!==-1&&(J(f,{[oe.Unmount](){r.current.splice(m,1)},[oe.Hidden](){r.current[m].state="hidden"}}),i.microTask(()=>{var h;!_e(r)&&o.current&&((h=n.current)==null||h.call(n))}))}),a=A(p=>{let f=r.current.find(({el:m})=>m===p);return f?f.state!=="visible"&&(f.state="visible"):r.current.push({el:p,state:"visible"}),()=>s(p,oe.Unmount)}),u=l.useRef([]),d=l.useRef(Promise.resolve()),c=l.useRef({enter:[],leave:[]}),v=A((p,f,m)=>{u.current.splice(0),t&&(t.chains.current[f]=t.chains.current[f].filter(([h])=>h!==p)),t==null||t.chains.current[f].push([p,new Promise(h=>{u.current.push(h)})]),t==null||t.chains.current[f].push([p,new Promise(h=>{Promise.all(c.current[f].map(([P,$])=>$)).then(()=>h())})]),f==="enter"?d.current=d.current.then(()=>t==null?void 0:t.wait.current).then(()=>m(f)):m(f)}),g=A((p,f,m)=>{Promise.all(c.current[f].splice(0).map(([h,P])=>P)).then(()=>{var h;(h=u.current.shift())==null||h()}).then(()=>m(f))});return l.useMemo(()=>({children:r,register:a,unregister:s,onStart:v,onStop:g,wait:d,chains:c}),[a,s,r,v,g,c,d])}let sn=l.Fragment,cn=pe.RenderStrategy;function yl(e,t){var n,r;let{transition:o=!0,beforeEnter:i,afterEnter:s,beforeLeave:a,afterLeave:u,enter:d,enterFrom:c,enterTo:v,entered:g,leave:p,leaveFrom:f,leaveTo:m,...h}=e,[P,$]=l.useState(null),b=l.useRef(null),F=un(e),I=Z(...F?[b,t,$]:t===null?[]:[t]),L=(n=h.unmount)==null||n?oe.Unmount:oe.Hidden,{show:R,appear:D,initial:H}=hl(),[O,j]=l.useState(R?"visible":"hidden"),U=bl(),{register:B,unregister:k}=U;q(()=>B(b),[B,b]),q(()=>{if(L===oe.Hidden&&b.current){if(R&&O!=="visible"){j("visible");return}return J(O,{hidden:()=>k(b),visible:()=>B(b)})}},[O,b,B,k,R,L]);let E=dt();q(()=>{if(F&&E&&O==="visible"&&b.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[b,O,E,F]);let N=H&&!D,_=D&&R&&H,x=l.useRef(!1),w=an(()=>{x.current||(j("hidden"),k(b))},U),M=A(G=>{x.current=!0;let ie=G?"enter":"leave";w.onStart(b,ie,ge=>{ge==="enter"?i==null||i():ge==="leave"&&(a==null||a())})}),y=A(G=>{let ie=G?"enter":"leave";x.current=!1,w.onStop(b,ie,ge=>{ge==="enter"?s==null||s():ge==="leave"&&(u==null||u())}),ie==="leave"&&!_e(w)&&(j("hidden"),k(b))});l.useEffect(()=>{F&&o||(M(R),y(R))},[R,F,o]);let S=(()=>!(!o||!F||!E||N))(),[,T]=ct(S,P,R,{start:M,end:y}),V=ue({ref:I,className:((r=tt(h.className,_&&d,_&&c,T.enter&&d,T.enter&&T.closed&&c,T.enter&&!T.closed&&v,T.leave&&p,T.leave&&!T.closed&&f,T.leave&&T.closed&&m,!T.transition&&R&&g))==null?void 0:r.trim())||void 0,...st(T)}),W=0;return O==="visible"&&(W|=X.Open),O==="hidden"&&(W|=X.Closed),T.enter&&(W|=X.Opening),T.leave&&(W|=X.Closing),C.createElement(Be.Provider,{value:w},C.createElement(Qt,{value:W},Q({ourProps:V,theirProps:h,defaultTag:sn,features:cn,visible:O==="visible",name:"Transition.Child"})))}function wl(e,t){let{show:n,appear:r=!1,unmount:o=!0,...i}=e,s=l.useRef(null),a=un(e),u=Z(...a?[s,t]:t===null?[]:[t]);dt();let d=ke();if(n===void 0&&d!==null&&(n=(d&X.Open)===X.Open),n===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[c,v]=l.useState(n?"visible":"hidden"),g=an(()=>{n||v("hidden")}),[p,f]=l.useState(!0),m=l.useRef([n]);q(()=>{p!==!1&&m.current[m.current.length-1]!==n&&(m.current.push(n),f(!1))},[m,n]);let h=l.useMemo(()=>({show:n,appear:r,initial:p}),[n,r,p]);q(()=>{n?v("visible"):!_e(g)&&s.current!==null&&v("hidden")},[n,g]);let P={unmount:o},$=A(()=>{var F;p&&f(!1),(F=e.beforeEnter)==null||F.call(e)}),b=A(()=>{var F;p&&f(!1),(F=e.beforeLeave)==null||F.call(e)});return C.createElement(Be.Provider,{value:g},C.createElement(De.Provider,{value:h},Q({ourProps:{...P,as:l.Fragment,children:C.createElement(fn,{ref:u,...P,...i,beforeEnter:$,beforeLeave:b})},theirProps:{},defaultTag:l.Fragment,features:cn,visible:c==="visible",name:"Transition"})))}function El(e,t){let n=l.useContext(De)!==null,r=ke()!==null;return C.createElement(C.Fragment,null,!n&&r?C.createElement(it,{ref:t,...e}):C.createElement(fn,{ref:t,...e}))}let it=Y(wl),fn=Y(yl),Sl=Y(El),Pl=Object.assign(it,{Child:Sl,Root:it});var Cl=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Cl||{}),$l=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))($l||{});let Ol={0:e=>({...e,popoverState:J(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},pt=l.createContext(null);pt.displayName="PopoverContext";function Ve(e){let t=l.useContext(pt);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ve),n}return t}let Ue=l.createContext(null);Ue.displayName="PopoverAPIContext";function mt(e){let t=l.useContext(Ue);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,mt),n}return t}let gt=l.createContext(null);gt.displayName="PopoverGroupContext";function dn(){return l.useContext(gt)}let We=l.createContext(null);We.displayName="PopoverPanelContext";function Ml(){return l.useContext(We)}function xl(e,t){return J(t.type,Ol,e,t)}let Rl="div";function Tl(e,t){var n;let{__demoMode:r=!1,...o}=e,i=l.useRef(null),s=Z(t,Ut(x=>{i.current=x})),a=l.useRef([]),u=l.useReducer(xl,{__demoMode:r,popoverState:r?0:1,buttons:a,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:l.createRef(),afterPanelSentinel:l.createRef(),afterButtonSentinel:l.createRef()}),[{popoverState:d,button:c,buttonId:v,panel:g,panelId:p,beforePanelSentinel:f,afterPanelSentinel:m,afterButtonSentinel:h},P]=u,$=me((n=i.current)!=null?n:c),b=l.useMemo(()=>{if(!c||!g)return!1;for(let V of document.querySelectorAll("body > *"))if(Number(V==null?void 0:V.contains(c))^Number(V==null?void 0:V.contains(g)))return!0;let x=je(),w=x.indexOf(c),M=(w+x.length-1)%x.length,y=(w+1)%x.length,S=x[M],T=x[y];return!g.contains(S)&&!g.contains(T)},[c,g]),F=ne(v),I=ne(p),L=l.useMemo(()=>({buttonId:F,panelId:I,close:()=>P({type:1})}),[F,I,P]),R=dn(),D=R==null?void 0:R.registerPopover,H=A(()=>{var x;return(x=R==null?void 0:R.isFocusWithinPopoverGroup())!=null?x:($==null?void 0:$.activeElement)&&((c==null?void 0:c.contains($.activeElement))||(g==null?void 0:g.contains($.activeElement)))});l.useEffect(()=>D==null?void 0:D(L),[D,L]);let[O,j]=cl(),U=on(c),B=ml({mainTreeNode:U,portals:O,defaultContainers:[c,g]});vo($==null?void 0:$.defaultView,"focus",x=>{var w,M,y,S,T,V;x.target!==window&&x.target instanceof HTMLElement&&d===0&&(H()||c&&g&&(B.contains(x.target)||(M=(w=f.current)==null?void 0:w.contains)!=null&&M.call(w,x.target)||(S=(y=m.current)==null?void 0:y.contains)!=null&&S.call(y,x.target)||(V=(T=h.current)==null?void 0:T.contains)!=null&&V.call(T,x.target)||P({type:1})))},!0),go(d===0,B.resolveContainers,(x,w)=>{P({type:1}),Gt(w,at.Loose)||(x.preventDefault(),c==null||c.focus())});let k=A(x=>{P({type:1});let w=(()=>x?x instanceof HTMLElement?x:"current"in x&&x.current instanceof HTMLElement?x.current:c:c)();w==null||w.focus()}),E=l.useMemo(()=>({close:k,isPortalled:b}),[k,b]),N=l.useMemo(()=>({open:d===0,close:k}),[d,k]),_={ref:s};return C.createElement(rn,{node:U},C.createElement(Jo,null,C.createElement(We.Provider,{value:null},C.createElement(pt.Provider,{value:u},C.createElement(Ue.Provider,{value:E},C.createElement(Qr,{value:k},C.createElement(Qt,{value:J(d,{0:X.Open,1:X.Closed})},C.createElement(j,null,Q({ourProps:_,theirProps:o,slot:N,defaultTag:Rl,name:"Popover"})))))))))}let Fl="button";function Il(e,t){let n=l.useId(),{id:r=`headlessui-popover-button-${n}`,disabled:o=!1,autoFocus:i=!1,...s}=e,[a,u]=Ve("Popover.Button"),{isPortalled:d}=mt("Popover.Button"),c=l.useRef(null),v=`headlessui-focus-sentinel-${l.useId()}`,g=dn(),p=g==null?void 0:g.closeOthers,f=Ml()!==null;l.useEffect(()=>{if(!f)return u({type:3,buttonId:r}),()=>{u({type:3,buttonId:null})}},[f,r,u]);let[m]=l.useState(()=>Symbol()),h=Z(c,t,Ko(),A(w=>{if(!f){if(w)a.buttons.current.push(m);else{let M=a.buttons.current.indexOf(m);M!==-1&&a.buttons.current.splice(M,1)}a.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),w&&u({type:2,button:w})}})),P=Z(c,t),$=me(c),b=A(w=>{var M,y,S;if(f){if(a.popoverState===1)return;switch(w.key){case re.Space:case re.Enter:w.preventDefault(),(y=(M=w.target).click)==null||y.call(M),u({type:1}),(S=a.button)==null||S.focus();break}}else switch(w.key){case re.Space:case re.Enter:w.preventDefault(),w.stopPropagation(),a.popoverState===1&&(p==null||p(a.buttonId)),u({type:0});break;case re.Escape:if(a.popoverState!==0)return p==null?void 0:p(a.buttonId);if(!c.current||$!=null&&$.activeElement&&!c.current.contains($.activeElement))return;w.preventDefault(),w.stopPropagation(),u({type:1});break}}),F=A(w=>{f||w.key===re.Space&&w.preventDefault()}),I=A(w=>{var M,y;_t(w.currentTarget)||o||(f?(u({type:1}),(M=a.button)==null||M.focus()):(w.preventDefault(),w.stopPropagation(),a.popoverState===1&&(p==null||p(a.buttonId)),u({type:0}),(y=a.button)==null||y.focus()))}),L=A(w=>{w.preventDefault(),w.stopPropagation()}),{isFocusVisible:R,focusProps:D}=$n({autoFocus:i}),{isHovered:H,hoverProps:O}=On({isDisabled:o}),{pressed:j,pressProps:U}=zr({disabled:o}),B=a.popoverState===0,k=l.useMemo(()=>({open:B,active:j||B,disabled:o,hover:H,focus:R,autofocus:i}),[B,H,R,j,o,i]),E=ho(e,a.button),N=nt(f?{ref:P,type:E,onKeyDown:b,onClick:I,disabled:o||void 0,autoFocus:i}:{ref:h,id:a.buttonId,type:E,"aria-expanded":a.popoverState===0,"aria-controls":a.panel?a.panelId:void 0,disabled:o||void 0,autoFocus:i,onKeyDown:b,onKeyUp:F,onClick:I,onMouseDown:L},D,O,U),_=ln(),x=A(()=>{let w=a.panel;if(!w)return;function M(){J(_.current,{[te.Forwards]:()=>ae(w,ee.First),[te.Backwards]:()=>ae(w,ee.Last)})===Ne.Error&&ae(je().filter(y=>y.dataset.headlessuiFocusGuard!=="true"),J(_.current,{[te.Forwards]:ee.Next,[te.Backwards]:ee.Previous}),{relativeTo:a.button})}M()});return C.createElement(C.Fragment,null,Q({ourProps:N,theirProps:s,slot:k,defaultTag:Fl,name:"Popover.Button"}),B&&!f&&d&&C.createElement(Ie,{id:v,ref:a.afterButtonSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:x}))}let Nl="div",Al=pe.RenderStrategy|pe.Static;function pn(e,t){let n=l.useId(),{id:r=`headlessui-popover-backdrop-${n}`,transition:o=!1,...i}=e,[{popoverState:s},a]=Ve("Popover.Backdrop"),[u,d]=l.useState(null),c=Z(t,d),v=ke(),[g,p]=ct(o,u,v!==null?(v&X.Open)===X.Open:s===0),f=A(P=>{if(_t(P.currentTarget))return P.preventDefault();a({type:1})}),m=l.useMemo(()=>({open:s===0}),[s]),h={ref:c,id:r,"aria-hidden":!0,onClick:f,...st(p)};return Q({ourProps:h,theirProps:i,slot:m,defaultTag:Nl,features:Al,visible:g,name:"Popover.Backdrop"})}let Ll="div",jl=pe.RenderStrategy|pe.Static;function Hl(e,t){let n=l.useId(),{id:r=`headlessui-popover-panel-${n}`,focus:o=!1,anchor:i,portal:s=!1,modal:a=!1,transition:u=!1,...d}=e,[c,v]=Ve("Popover.Panel"),{close:g,isPortalled:p}=mt("Popover.Panel"),f=`headlessui-focus-sentinel-before-${n}`,m=`headlessui-focus-sentinel-after-${n}`,h=l.useRef(null),P=Go(i),[$,b]=Yo(P),F=Xo();P&&(s=!0);let[I,L]=l.useState(null),R=Z(h,t,P?$:null,A(M=>v({type:4,panel:M})),L),D=me(h),H=Gr();q(()=>(v({type:5,panelId:r}),()=>{v({type:5,panelId:null})}),[r,v]);let O=ke(),[j,U]=ct(u,I,O!==null?(O&X.Open)===X.Open:c.popoverState===0);oo(j,c.button,()=>{v({type:1})});let B=c.__demoMode?!1:a&&j;Po(B,D);let k=A(M=>{var y;switch(M.key){case re.Escape:if(c.popoverState!==0||!h.current||D!=null&&D.activeElement&&!h.current.contains(D.activeElement))return;M.preventDefault(),M.stopPropagation(),v({type:1}),(y=c.button)==null||y.focus();break}});l.useEffect(()=>{var M;e.static||c.popoverState===1&&((M=e.unmount)==null||M)&&v({type:4,panel:null})},[c.popoverState,e.unmount,e.static,v]),l.useEffect(()=>{if(c.__demoMode||!o||c.popoverState!==0||!h.current)return;let M=D==null?void 0:D.activeElement;h.current.contains(M)||ae(h.current,ee.First)},[c.__demoMode,o,h.current,c.popoverState]);let E=l.useMemo(()=>({open:c.popoverState===0,close:g}),[c.popoverState,g]),N=nt(P?F():{},{ref:R,id:r,onKeyDown:k,onBlur:o&&c.popoverState===0?M=>{var y,S,T,V,W;let G=M.relatedTarget;G&&h.current&&((y=h.current)!=null&&y.contains(G)||(v({type:1}),((T=(S=c.beforePanelSentinel.current)==null?void 0:S.contains)!=null&&T.call(S,G)||(W=(V=c.afterPanelSentinel.current)==null?void 0:V.contains)!=null&&W.call(V,G))&&G.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...d.style,...b,"--button-width":to(c.button,!0).width},...st(U)}),_=ln(),x=A(()=>{let M=h.current;if(!M)return;function y(){J(_.current,{[te.Forwards]:()=>{var S;ae(M,ee.First)===Ne.Error&&((S=c.afterPanelSentinel.current)==null||S.focus())},[te.Backwards]:()=>{var S;(S=c.button)==null||S.focus({preventScroll:!0})}})}y()}),w=A(()=>{let M=h.current;if(!M)return;function y(){J(_.current,{[te.Forwards]:()=>{if(!c.button)return;let S=je(),T=S.indexOf(c.button),V=S.slice(0,T+1),W=[...S.slice(T+1),...V];for(let G of W.slice())if(G.dataset.headlessuiFocusGuard==="true"||I!=null&&I.contains(G)){let ie=W.indexOf(G);ie!==-1&&W.splice(ie,1)}ae(W,ee.First,{sorted:!1})},[te.Backwards]:()=>{var S;ae(M,ee.Previous)===Ne.Error&&((S=c.button)==null||S.focus())}})}y()});return C.createElement(el,null,C.createElement(We.Provider,{value:r},C.createElement(Ue.Provider,{value:{close:g,isPortalled:p}},C.createElement(pl,{enabled:s?e.static||j:!1},j&&p&&C.createElement(Ie,{id:f,ref:c.beforePanelSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:x}),Q({mergeRefs:H,ourProps:N,theirProps:d,slot:E,defaultTag:Ll,features:jl,visible:j,name:"Popover.Panel"}),j&&p&&C.createElement(Ie,{id:m,ref:c.afterPanelSentinel,features:Ee.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:w})))))}let kl="div";function Dl(e,t){let n=l.useRef(null),r=Z(n,t),[o,i]=l.useState([]),s=A(f=>{i(m=>{let h=m.indexOf(f);if(h!==-1){let P=m.slice();return P.splice(h,1),P}return m})}),a=A(f=>(i(m=>[...m,f]),()=>s(f))),u=A(()=>{var f;let m=Pe(n);if(!m)return!1;let h=m.activeElement;return(f=n.current)!=null&&f.contains(h)?!0:o.some(P=>{var $,b;return(($=m.getElementById(P.buttonId.current))==null?void 0:$.contains(h))||((b=m.getElementById(P.panelId.current))==null?void 0:b.contains(h))})}),d=A(f=>{for(let m of o)m.buttonId.current!==f&&m.close()}),c=l.useMemo(()=>({registerPopover:a,unregisterPopover:s,isFocusWithinPopoverGroup:u,closeOthers:d}),[a,s,u,d]),v=l.useMemo(()=>({}),[]),g=e,p={ref:r};return C.createElement(rn,null,C.createElement(gt.Provider,{value:c},Q({ourProps:p,theirProps:g,slot:v,defaultTag:kl,name:"Popover.Group"})))}let Bl=Y(Tl),mn=Y(Il),_l=Y(pn),Vl=Y(pn),gn=Y(Hl),Ul=Y(Dl),Wl=Object.assign(Bl,{Button:mn,Backdrop:Vl,Overlay:_l,Panel:gn,Group:Ul});function ql(e,t){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),l.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))}const zl=l.forwardRef(ql),Ft=zl,vn=e=>({message:e.message,position:e.position&&{endColumn:e.position.end.column,startColumn:e.position.start.column,startLineNumber:e.position.start.line,endLineNumber:e.position.end.line}}),Gl=e=>{if(!e)return"";const t=vn(e);return t?`${t.message}${t.position?` at line: ${t.position.startLineNumber}, column: ${t.position.startColumn}`:""}`:null};function Kl({error:e}){const t=Gl(e);return z(Wl,{className:"relative",children:()=>be(Mn,{children:[be(mn,{className:`p-2 shaodw-lg border ${e?"":" opacity-0 hidden "}`,children:[z("span",{className:"sr-only",children:"Errors"}),z(Ft,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})]}),z(Pl,{enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:z(gn,{className:"absolute top-8 w-[300px] -right-3 z-10 mt-3 px-4 sm:px-0",children:z("div",{className:"overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5",children:z("div",{className:"rounded bg-red-50 p-4 overflow-scroll",children:be("div",{className:"flex",children:[z("div",{className:"flex-shrink-0",children:z(Ft,{className:"h-5 w-5 text-red-400","aria-hidden":"true"})}),z("div",{className:"ml-3",children:z("h3",{className:"text-sm font-medium text-red-800 whitespace-pre-wrap",children:t})})]})})})})})]})})}function Xl(e,t){const[n,r]=l.useState(e);return l.useEffect(()=>{const o=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(o)}},[e,t]),n}const Yl=()=>("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),Jl=e=>{const t=Ar(),n=C.useRef(null),[r,o]=C.useState(100),i=C.useMemo(()=>Yl(),[]),s=e.field,a=C.useMemo(()=>{const f=xn(e.input.value,s,m=>m);return typeof e.input.value=="string"?e.input.value:f},[]),[u,d]=C.useState(a),[c,v]=C.useState(null),g=Xl(u,500);C.useEffect(()=>{const f=Rn(u,s,m=>m);if(f.children[0]&&f.children[0].type==="invalid_markdown"){const m=f.children[0];v(m)}else v(null);e.input.onChange(f)},[JSON.stringify(g)]),C.useEffect(()=>{if(n.current)if(c){const f=vn(c);t.editor.setModelMarkers(n.current.getModel(),i,[{...f.position,message:f.message,severity:8}])}else t.editor.setModelMarkers(n.current.getModel(),i,[])},[JSON.stringify(c),n.current]),C.useEffect(()=>{t&&(t.languages.typescript.typescriptDefaults.setEagerModelSync(!0),t.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!0}))},[t]);function p(f,m){f&&(n.current=f,f.onDidContentSizeChange(()=>{o(Math.min(Math.max(100,f.getContentHeight()),1e3)),f.layout()}))}return be("div",{className:"relative",children:[be("div",{className:"sticky top-1 w-full flex justify-between mb-2 z-50 max-w-full bg-white",children:[z(Zl,{onClick:()=>e.setRawMode(!1),children:"View in rich-text editor "}),z(Kl,{error:c})]}),z("div",{style:{height:`${r}px`},children:z(Br,{beforeMount:()=>{},height:"100%",width:"100%",path:i,onMount:p,options:{scrollBeyondLastLine:!1,tabSize:2,disableLayerHinting:!0,accessibilitySupport:"off",codeLens:!1,wordWrap:"on",minimap:{enabled:!1},fontSize:14,lineHeight:2,formatOnPaste:!0,lineNumbers:"on",lineNumbersMinChars:2,formatOnType:!0,fixedOverflowWidgets:!0,folding:!1,renderLineHighlight:"none",scrollbar:{verticalScrollbarSize:4,horizontalScrollbarSize:4,alwaysConsumeMouseWheel:!1}},language:"markdown",value:u,onChange:f=>{try{d(f)}catch(m){console.log("error",m)}}})})]})},Zl=e=>z("button",{className:`${e.align==="left"?"rounded-l border-r-0":"rounded-r border-l-0"} flex justify-center w-full shadow rounded bg-white cursor-pointer relative inline-flex items-center px-2 py-2 border border-gray-200 hover:text-white text-sm font-medium transition-all ease-out duration-150 hover:bg-blue-500 focus:z-10 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500`,type:"button",onClick:e.onClick,children:z("span",{className:"text-sm font-semibold tracking-wide align-baseline mr-1",children:e.children})}),ni=Jl;export{ni as default};
